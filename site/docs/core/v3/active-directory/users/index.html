
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Managing users with LdapRecord.">
      
      
      
      
        <link rel="prev" href="../groups/">
      
      
        <link rel="next" href="../../../../laravel/v1/">
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.1.21">
    
    
      
        <title>User Management (Active Directory) - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.eebd395e.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#user-management-active-directory" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              User Management (Active Directory)
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    My Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        LdapRecord-Docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          Core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1_1" id="__nav_2_1_1_label" tabindex="0">
          V1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_1">
          <span class="md-nav__icon md-icon"></span>
          V1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/caching/" class="md-nav__link">
        Query Caching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/common-queries/" class="md-nav__link">
        Common Queries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/connections/" class="md-nav__link">
        Connecting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/credits/" class="md-nav__link">
        Credits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/events/" class="md-nav__link">
        Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/model-api/" class="md-nav__link">
        Model API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/model-mutators/" class="md-nav__link">
        Model Accessors & Mutators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/model-relationships/" class="md-nav__link">
        Model Relationships
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/model-scopes/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/searching-api/" class="md-nav__link">
        Searching API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/searching/" class="md-nav__link">
        Searching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/versioning/" class="md-nav__link">
        Versioning
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1_22" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1_1_22" id="__nav_2_1_1_22_label" tabindex="0">
          Active directory
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_1_22_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_1_22">
          <span class="md-nav__icon md-icon"></span>
          Active directory
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/active-directory/groups/" class="md-nav__link">
        Group Management (Active Directory)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v1/active-directory/users/" class="md-nav__link">
        User Management (Active Directory)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1_2" id="__nav_2_1_2_label" tabindex="0">
          V2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_2">
          <span class="md-nav__icon md-icon"></span>
          V2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/caching/" class="md-nav__link">
        Query Caching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/common-queries/" class="md-nav__link">
        Common Queries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/connections/" class="md-nav__link">
        Connecting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/credits/" class="md-nav__link">
        Credits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/events/" class="md-nav__link">
        Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/filter-parser/" class="md-nav__link">
        Filter Parser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/helpers/" class="md-nav__link">
        Helpers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/model-api/" class="md-nav__link">
        Model API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/model-mutators/" class="md-nav__link">
        Model Accessors & Mutators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/model-relationships/" class="md-nav__link">
        Model Relationships
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/model-scopes/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/model-searching/" class="md-nav__link">
        Model Searching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/searching-api/" class="md-nav__link">
        Searching API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/searching/" class="md-nav__link">
        Searching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/upgrading/" class="md-nav__link">
        v2 Upgrade Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/versioning/" class="md-nav__link">
        Versioning
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2_26" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1_2_26" id="__nav_2_1_2_26_label" tabindex="0">
          Active directory
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_2_26_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_2_26">
          <span class="md-nav__icon md-icon"></span>
          Active directory
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/active-directory/groups/" class="md-nav__link">
        Group Management (Active Directory)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../v2/active-directory/users/" class="md-nav__link">
        User Management (Active Directory)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_1_3" id="__nav_2_1_3_label" tabindex="0">
          V3
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_1_3">
          <span class="md-nav__icon md-icon"></span>
          V3
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../caching/" class="md-nav__link">
        Query Caching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common-queries/" class="md-nav__link">
        Common Queries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connections/" class="md-nav__link">
        Connecting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../credits/" class="md-nav__link">
        Credits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../events/" class="md-nav__link">
        Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../filter-parser/" class="md-nav__link">
        Filter Parser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../helpers/" class="md-nav__link">
        Helpers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model-api/" class="md-nav__link">
        Model API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model-mutators/" class="md-nav__link">
        Model Accessors & Mutators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model-relationships/" class="md-nav__link">
        Model Relationships
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model-scopes/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../model-searching/" class="md-nav__link">
        Model Searching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../searching-api/" class="md-nav__link">
        Searching API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../searching/" class="md-nav__link">
        Searching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../testing-api/" class="md-nav__link">
        Testing API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../upgrading/" class="md-nav__link">
        Upgrade to LdapRecord v3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../versioning/" class="md-nav__link">
        Versioning
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3_28" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_1_3_28" id="__nav_2_1_3_28_label" tabindex="0">
          Active directory
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_3_28_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_1_3_28">
          <span class="md-nav__icon md-icon"></span>
          Active directory
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../groups/" class="md-nav__link">
        Group Management (Active Directory)
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          User Management (Active Directory)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        User Management (Active Directory)
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creation" class="md-nav__link">
    Creation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#password-management" class="md-nav__link">
    Password Management
  </a>
  
    <nav class="md-nav" aria-label="Password Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-passwords" class="md-nav__link">
    Setting Passwords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-passwords" class="md-nav__link">
    Changing Passwords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resetting-passwords" class="md-nav__link">
    Resetting Passwords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#password-policy-errors" class="md-nav__link">
    Password Policy Errors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-if-a-user-is-locked-out" class="md-nav__link">
    Check if a user is locked out
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-all-locked-out-users" class="md-nav__link">
    Getting all locked out users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unlock-locked-out-user-account" class="md-nav__link">
    Unlock Locked Out User Account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extend-user-password-expiration" class="md-nav__link">
    Extend User Password Expiration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-must-change-password-at-next-logon" class="md-nav__link">
    User Must Change Password at Next Logon
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checking-user-enablement-disablement" class="md-nav__link">
    Checking User Enablement / Disablement
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-account-control" class="md-nav__link">
    User Account Control
  </a>
  
    <nav class="md-nav" aria-label="User Account Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-constants" class="md-nav__link">
    Available Constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-methods" class="md-nav__link">
    Available Methods
  </a>
  
    <nav class="md-nav" aria-label="Available Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add" class="md-nav__link">
    add
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove" class="md-nav__link">
    remove
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apply" class="md-nav__link">
    apply
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#has" class="md-nav__link">
    has
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#doesnthave" class="md-nav__link">
    doesntHave
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filter" class="md-nav__link">
    filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getallflags" class="md-nav__link">
    getAllFlags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getappliedflags" class="md-nav__link">
    getAppliedFlags
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-account-expiry" class="md-nav__link">
    User Account Expiry
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#group-management" class="md-nav__link">
    Group Management
  </a>
  
    <nav class="md-nav" aria-label="Group Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-groups" class="md-nav__link">
    Getting Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtering-groups" class="md-nav__link">
    Filtering Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-existence" class="md-nav__link">
    Checking Existence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-groups" class="md-nav__link">
    Adding Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removing-groups" class="md-nav__link">
    Removing Groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Laravel
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Laravel
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_1" id="__nav_2_2_1_label" tabindex="0">
          V1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          V1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/debugging/" class="md-nav__link">
        Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/events/" class="md-nav__link">
        Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/importing/" class="md-nav__link">
        Importing Objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/lumen/" class="md-nav__link">
        LdapRecord-Lumen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/testing/" class="md-nav__link">
        Testing with LdapRecord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/usage/" class="md-nav__link">
        Usage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/versioning/" class="md-nav__link">
        Versioning
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1_12" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_1_12" id="__nav_2_2_1_12_label" tabindex="0">
          Auth
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_2_1_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_1_12">
          <span class="md-nav__icon md-icon"></span>
          Auth
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/" class="md-nav__link">
        Authentication Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/configuration/" class="md-nav__link">
        Authentication Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/importing/" class="md-nav__link">
        Importing Users
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/installation/" class="md-nav__link">
        Authentication Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/laravel-jetstream/" class="md-nav__link">
        Using LdapRecord-Laravel with Laravel Jetstream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/laravel-ui/" class="md-nav__link">
        Authentication Using Laravel UI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/multi-domain/" class="md-nav__link">
        Multi-Domain Authentication Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/quickstart-laravel-ui/" class="md-nav__link">
        Authentication Quickstart Using Laravel UI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/quickstart/" class="md-nav__link">
        Authentication Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/restricting-sign-in/" class="md-nav__link">
        Restricting Sign In
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/setup/" class="md-nav__link">
        Authentication Setup & Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/testing/" class="md-nav__link">
        Testing Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1_12_13" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_1_12_13" id="__nav_2_2_1_12_13_label" tabindex="0">
          Sso
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_2_1_12_13_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_1_12_13">
          <span class="md-nav__icon md-icon"></span>
          Sso
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/sso/" class="md-nav__link">
        Pass-through / SSO Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v1/auth/sso/setup/" class="md-nav__link">
        Pass-through / SSO Authentication Setup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
          V2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_2">
          <span class="md-nav__icon md-icon"></span>
          V2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/debugging/" class="md-nav__link">
        Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/events/" class="md-nav__link">
        Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/extending/" class="md-nav__link">
        Extending
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/importing/" class="md-nav__link">
        Importing Objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/lumen/" class="md-nav__link">
        LdapRecord-Lumen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/testing/" class="md-nav__link">
        Testing with LdapRecord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/upgrading/" class="md-nav__link">
        Upgrading from v1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/usage/" class="md-nav__link">
        Usage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/versioning/" class="md-nav__link">
        Versioning
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2_14" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_2_14" id="__nav_2_2_2_14_label" tabindex="0">
          Auth
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_2_2_14_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_2_14">
          <span class="md-nav__icon md-icon"></span>
          Auth
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/" class="md-nav__link">
        Authentication Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/configuration/" class="md-nav__link">
        Authentication Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/multi-domain/" class="md-nav__link">
        Multi-Domain Authentication Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/restricting-login/" class="md-nav__link">
        Restricting Login
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/testing/" class="md-nav__link">
        Testing Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2_14_6" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_2_14_6" id="__nav_2_2_2_14_6_label" tabindex="0">
          Database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_2_2_14_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_2_14_6">
          <span class="md-nav__icon md-icon"></span>
          Database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/database/" class="md-nav__link">
        Database Authentication Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/database/configuration/" class="md-nav__link">
        Database Authentication Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/database/importing/" class="md-nav__link">
        Importing Users
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/database/installation/" class="md-nav__link">
        Database Authentication Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/database/laravel-breeze/" class="md-nav__link">
        Database Authentication Using Laravel Breeze
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/database/laravel-jetstream/" class="md-nav__link">
        Using LdapRecord-Laravel with Laravel Jetstream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/database/laravel-sanctum/" class="md-nav__link">
        Using LdapRecord-Laravel with Laravel Sanctum
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/database/laravel-ui/" class="md-nav__link">
        Database Authentication Using Laravel UI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/database/logging-in/" class="md-nav__link">
        Database Authentication Setup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2_14_7" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_2_14_7" id="__nav_2_2_2_14_7_label" tabindex="0">
          Plain
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_2_2_14_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_2_14_7">
          <span class="md-nav__icon md-icon"></span>
          Plain
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/plain/" class="md-nav__link">
        Plain Authentication Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/plain/configuration/" class="md-nav__link">
        Plain Authentication Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/plain/laravel-breeze/" class="md-nav__link">
        Plain Authentication Using Laravel Breeze
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/plain/laravel-jetstream/" class="md-nav__link">
        Using LdapRecord-Laravel with Laravel Jetstream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/plain/laravel-ui/" class="md-nav__link">
        Plain Authentication Using Laravel UI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/plain/logging-in/" class="md-nav__link">
        Plain Authentication Setup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2_14_8" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_2_14_8" id="__nav_2_2_2_14_8_label" tabindex="0">
          Sso
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_2_2_14_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_2_14_8">
          <span class="md-nav__icon md-icon"></span>
          Sso
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/sso/" class="md-nav__link">
        Pass-through / SSO Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v2/auth/sso/setup/" class="md-nav__link">
        Pass-through / SSO Authentication Setup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_3" id="__nav_2_2_3_label" tabindex="0">
          V3
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_3">
          <span class="md-nav__icon md-icon"></span>
          V3
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/debugging/" class="md-nav__link">
        Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/events/" class="md-nav__link">
        Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/extending/" class="md-nav__link">
        Extending
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/importing/" class="md-nav__link">
        Importing Objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/lumen/" class="md-nav__link">
        LdapRecord-Lumen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/release-notes/" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/testing/" class="md-nav__link">
        Testing with LdapRecord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/upgrading/" class="md-nav__link">
        Upgrade to LdapRecord-Laravel v3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/usage/" class="md-nav__link">
        Usage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/versioning/" class="md-nav__link">
        Versioning
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3_15" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_3_15" id="__nav_2_2_3_15_label" tabindex="0">
          Auth
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_2_3_15_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_3_15">
          <span class="md-nav__icon md-icon"></span>
          Auth
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/" class="md-nav__link">
        Authentication Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/configuration/" class="md-nav__link">
        Authentication Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/multi-domain/" class="md-nav__link">
        Multi-Domain Authentication Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/restricting-login/" class="md-nav__link">
        Restricting Login
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/testing/" class="md-nav__link">
        Testing Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3_15_6" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_3_15_6" id="__nav_2_2_3_15_6_label" tabindex="0">
          Database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_2_3_15_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_3_15_6">
          <span class="md-nav__icon md-icon"></span>
          Database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/database/" class="md-nav__link">
        Database Authentication Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/database/configuration/" class="md-nav__link">
        Database Authentication Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/database/importing/" class="md-nav__link">
        Importing Users
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/database/installation/" class="md-nav__link">
        Database Authentication Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/database/laravel-breeze/" class="md-nav__link">
        Database Authentication Using Laravel Breeze
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/database/laravel-jetstream/" class="md-nav__link">
        Using LdapRecord-Laravel with Laravel Jetstream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/database/laravel-sanctum/" class="md-nav__link">
        Using LdapRecord-Laravel with Laravel Sanctum
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/database/laravel-ui/" class="md-nav__link">
        Database Authentication Using Laravel UI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/database/logging-in/" class="md-nav__link">
        Database Authentication Setup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3_15_7" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_3_15_7" id="__nav_2_2_3_15_7_label" tabindex="0">
          Plain
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_2_3_15_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_3_15_7">
          <span class="md-nav__icon md-icon"></span>
          Plain
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/plain/" class="md-nav__link">
        Plain Authentication Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/plain/configuration/" class="md-nav__link">
        Plain Authentication Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/plain/laravel-breeze/" class="md-nav__link">
        Plain Authentication Using Laravel Breeze
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/plain/laravel-jetstream/" class="md-nav__link">
        Using LdapRecord-Laravel with Laravel Jetstream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/plain/laravel-ui/" class="md-nav__link">
        Plain Authentication Using Laravel UI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/plain/logging-in/" class="md-nav__link">
        Plain Authentication Setup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3_15_8" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_3_15_8" id="__nav_2_2_3_15_8_label" tabindex="0">
          Sso
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_2_3_15_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_3_15_8">
          <span class="md-nav__icon md-icon"></span>
          Sso
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/sso/" class="md-nav__link">
        Pass-through / SSO Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../laravel/v3/auth/sso/setup/" class="md-nav__link">
        Pass-through / SSO Authentication Setup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creation" class="md-nav__link">
    Creation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#password-management" class="md-nav__link">
    Password Management
  </a>
  
    <nav class="md-nav" aria-label="Password Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-passwords" class="md-nav__link">
    Setting Passwords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-passwords" class="md-nav__link">
    Changing Passwords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resetting-passwords" class="md-nav__link">
    Resetting Passwords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#password-policy-errors" class="md-nav__link">
    Password Policy Errors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-if-a-user-is-locked-out" class="md-nav__link">
    Check if a user is locked out
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-all-locked-out-users" class="md-nav__link">
    Getting all locked out users
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unlock-locked-out-user-account" class="md-nav__link">
    Unlock Locked Out User Account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extend-user-password-expiration" class="md-nav__link">
    Extend User Password Expiration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-must-change-password-at-next-logon" class="md-nav__link">
    User Must Change Password at Next Logon
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checking-user-enablement-disablement" class="md-nav__link">
    Checking User Enablement / Disablement
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-account-control" class="md-nav__link">
    User Account Control
  </a>
  
    <nav class="md-nav" aria-label="User Account Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-constants" class="md-nav__link">
    Available Constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-methods" class="md-nav__link">
    Available Methods
  </a>
  
    <nav class="md-nav" aria-label="Available Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add" class="md-nav__link">
    add
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove" class="md-nav__link">
    remove
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apply" class="md-nav__link">
    apply
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#has" class="md-nav__link">
    has
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#doesnthave" class="md-nav__link">
    doesntHave
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filter" class="md-nav__link">
    filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getallflags" class="md-nav__link">
    getAllFlags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getappliedflags" class="md-nav__link">
    getAppliedFlags
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-account-expiry" class="md-nav__link">
    User Account Expiry
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#group-management" class="md-nav__link">
    Group Management
  </a>
  
    <nav class="md-nav" aria-label="Group Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-groups" class="md-nav__link">
    Getting Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtering-groups" class="md-nav__link">
    Filtering Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-existence" class="md-nav__link">
    Checking Existence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-groups" class="md-nav__link">
    Adding Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removing-groups" class="md-nav__link">
    Removing Groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="user-management-active-directory">User Management (Active Directory)</h1>
<h2 id="creation">Creation</h2>
<p>Let's walk through the basics of user creation for Active Directory. There
are some requirements you must know prior to creation:</p>
<table>
<thead>
<tr>
<th>Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>You must set a common name (<code>cn</code>) for the user</td>
</tr>
<tr>
<td>You must connect to your server with an account that has permission to create users</td>
</tr>
<tr>
<td>You must connect to your server via TLS or SSL if you set the the users password (<code>unicodepwd</code>) attribute</td>
</tr>
<tr>
<td>You must set the <code>unicodePwd</code> attribute as a non-encoded string (more on this below)</td>
</tr>
<tr>
<td>To set the users <code>userAccountControl</code>, it must be set <strong>after</strong> the user has been created</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Important</strong>: Attributes that are set below can be cased in <em>any</em> manor. They
can be <code>UPPERCASED</code>, <code>lowercased</code>, <code>camelCased</code>, <code>PascalCased</code>, etc. Use
whichever casing you prefer to be most readable in your application.</p>
</blockquote>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;

$user = (new User)-&gt;inside('ou=Users,dc=local,dc=com');

$user-&gt;cn = 'John Doe';
$user-&gt;unicodePwd = 'SecretPassword';
$user-&gt;samaccountname = 'jdoe';
$user-&gt;userPrincipalName = 'jdoe@acme.org';

$user-&gt;save();

// Sync the created users attributes.
$user-&gt;refresh();

// Enable the user.
$user-&gt;userAccountControl = 512;

try {
    $user-&gt;save();
} catch (\LdapRecord\LdapRecordException $e) {
    // Failed saving user.
}
</code></pre>
<blockquote>
<p><strong>Important</strong>: It is wise to encapsulate saving your user in a try / catch
block, so if it fails you can determine if the cause of failure
is due to your domains password policy.</p>
</blockquote>
<h2 id="password-management">Password Management</h2>
<h3 id="setting-passwords">Setting Passwords</h3>
<p>Using the included <code>LdapRecord\Models\ActiveDirectory\User</code> model, an attribute
<a href="/docs/core/v2/model-mutators">mutator</a> has been added that assists in the setting
and changing of passwords on user objects. Feel free to take a peek into the
<a href="https://github.com/DirectoryTree/LdapRecord/blob/master/src/Models/Concerns/HasPassword.php">source code</a>
to see how it all works.</p>
<p>The password string you set on the users <code>unicodePwd</code> attribute is automatically encoded.
You do not need to encode it yourself. Doing so will cause an error or exception upon
saving the user.</p>
<p>Once you have set a password on a user object, this generates a modification
on the user model equal to a <code>LDAP_MODIFY_BATCH_REPLACE</code>:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;

$user = new User();

$user-&gt;unicodepwd = 'secret';

$modification = $user-&gt;getModifications()[0];

var_dump($modification);

// &quot;attrib&quot; =&gt; &quot;unicodepwd&quot;
// &quot;modtype&quot; =&gt; 3
// &quot;values&quot; =&gt; array:1 [
//    0 =&gt; &quot;&quot;\x00s\x00e\x00c\x00r\x00e\x00t\x00&quot;\x00&quot;
// ]
</code></pre>
<p>As you can see, a batch modification has been automatically generated for
the user. Upon calling <code>save()</code>, it will be sent to your LDAP server.</p>
<h3 id="changing-passwords">Changing Passwords</h3>
<p>To change a user's password, you must either:</p>
<ol>
<li>Bind to your LDAP server with a user that has <strong>permissions to reset passwords</strong></li>
<li>Or; <strong>bind as the user</strong> whose password you are trying to change.</li>
</ol>
<blockquote>
<p><strong>Important</strong>:</p>
<ul>
<li>You must provide the <strong>correct user's old password</strong></li>
<li>You must set the <code>unicodepwd</code> attribute with an array containing <strong>two</strong> (2) values (old &amp; new password)</li>
<li>You must provide a new password that abides by your <strong>password policy</strong>, such as <strong>history, complexity, and length</strong></li>
</ul>
</blockquote>
<p>Let's walk through an example:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

$user-&gt;unicodepwd = ['old-password', 'new-password'];

try {
    $user-&gt;save();

    // User password changed!
} catch (\LdapRecord\Exceptions\InsufficientAccessException $ex) {
    // The currently bound LDAP user does not
    // have permission to change passwords.
} catch (\LdapRecord\Exceptions\ConstraintException $ex) {
    // The users new password does not abide
    // by the domains password policy.
} catch (\LdapRecord\LdapRecordException $ex) {
    // Failed changing password. Get the last LDAP
    // error to determine the cause of failure.
    $error = $ex-&gt;getDetailedError();

    echo $error-&gt;getErrorCode();
    echo $error-&gt;getErrorMessage();
    echo $error-&gt;getDiagnosticMessage();
}
</code></pre>
<blockquote>
<p><strong>Important</strong>: You must use a try / catch block upon saving. An
<code>LdapRecord\LdapRecordException</code> will always be thrown when an
incorrect old password has been given, or the new password
does not abide by your password policy.</p>
</blockquote>
<h3 id="resetting-passwords">Resetting Passwords</h3>
<p>To reset a users password, you must be bound to your LDAP directory with a user whom has permission to do so on your directory.</p>
<p>You can perform a password reset by simply setting the users <code>unicodepwd</code> attribute as a string,
and then calling the <code>save()</code> method, similarly to how it is done during user creation:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

$user-&gt;unicodepwd = 'new-password';

try {
    $user-&gt;save();

    // User password reset!
} catch (\LdapRecord\Exceptions\InsufficientAccessException $ex) {
    // The currently bound LDAP user does not
    // have permission to reset passwords.
} catch (\LdapRecord\Exceptions\ConstraintException $ex) {
    // The users new password does not abide
    // by the domains password policy.
} catch (\LdapRecord\LdapRecordException $ex) {
    // Failed resetting password. Get the last LDAP
    // error to determine the cause of failure.
    $error = $ex-&gt;getDetailedError();

    echo $error-&gt;getErrorCode();
    echo $error-&gt;getErrorMessage();
    echo $error-&gt;getDiagnosticMessage();
}
</code></pre>
<h3 id="password-policy-errors">Password Policy Errors</h3>
<p>Active Directory will return diagnostic error codes when a password modification fails.</p>
<p>To determine the cause, you can check this diagnostic message to see if it contains any of the following codes:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>525</code></td>
<td>User not found</td>
</tr>
<tr>
<td><code>52e</code></td>
<td>Invalid credentials</td>
</tr>
<tr>
<td><code>530</code></td>
<td>Not permitted to logon at this time</td>
</tr>
<tr>
<td><code>531</code></td>
<td>Not permitted to logon at this workstation</td>
</tr>
<tr>
<td><code>532</code></td>
<td>Password expired</td>
</tr>
<tr>
<td><code>533</code></td>
<td>Account disabled</td>
</tr>
<tr>
<td><code>701</code></td>
<td>Account expired</td>
</tr>
<tr>
<td><code>773</code></td>
<td>User must reset password</td>
</tr>
<tr>
<td><code>775</code></td>
<td>User account locked</td>
</tr>
</tbody>
</table>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

$user-&gt;unicodepwd = ['old-password', 'new-password'];

try {
    $user-&gt;save();

    // User password changed!
} catch (\LdapRecord\LdapRecordException $ex) {
    // Failed changing password. Get the last LDAP
    // error to determine the cause of failure.
    $error = $ex-&gt;getDetailedError();

    echo $error-&gt;getErrorCode(); // 49
    echo $error-&gt;getErrorMessage(); // 'Invalid credentials'
    echo $error-&gt;getDiagnosticMessage(); // '80090308: LdapErr: DSID-0C09042A, comment: AcceptSecurityContext error, data 52e, v3839'

    if (strpos($error-&gt;getDiagnosticMessage(), '52e')) {
        // This is an invalid credentials error.
    }
}
</code></pre>
<h3 id="check-if-a-user-is-locked-out">Check if a user is locked out</h3>
<p>To check if a user is locked out, verify that the <code>lockouttime</code> attribute is greater than <code>0</code> (zero):</p>
<pre><code class="language-php">$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

if ($user-&gt;lockouttime[0] ?? 0 &gt; 0) {
    // User is locked out.
}

if ($user-&gt;getFirstAttribute('lockouttime') &gt; 0) {
    // User is locked out.
}
</code></pre>
<h3 id="getting-all-locked-out-users">Getting all locked out users</h3>
<p>To retrieve all currently locked out users, query for all users with a <code>lockouttime</code> greater or equal to <code>1</code> (one):</p>
<pre><code class="language-php">$lockedOutUsers = User::where('lockouttime', '&gt;=', '1')-&gt;get();
</code></pre>
<h3 id="unlock-locked-out-user-account">Unlock Locked Out User Account</h3>
<p>If a user has been locked out, set the <code>lockouttime</code> attribute to <code>0</code> (zero):</p>
<blockquote>
<p>Updating this attribute in Active Directory will also
reset the users <code>badPwdCount</code> attribute to <code>0</code> (zero).
For more information, see the <a href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2003/cc775412(v=ws.10)?redirectedfrom=MSDN#account-lockout-values">Microsoft Documentation</a>.</p>
</blockquote>
<pre><code class="language-php">$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

$user-&gt;update(['lockouttime' =&gt; 0]);
</code></pre>
<h3 id="extend-user-password-expiration">Extend User Password Expiration</h3>
<p>Sometimes you may wish to extend a user's password expiration for the full duration of your domains password expiry time.</p>
<p>To do this, you must update the user's <code>pwdLastSet</code> time to <code>0</code>, then to <code>-1</code>:</p>
<pre><code class="language-php">$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

// Set password last set to 'Never':
$user-&gt;update(['pwdlastset' =&gt; 0]);

// Set password last set to the current date / time:
$user-&gt;update(['pwdlastset' =&gt; -1]);

// User password expiration successfully extended.
</code></pre>
<h3 id="user-must-change-password-at-next-logon">User Must Change Password at Next Logon</h3>
<p>To toggle the "<em>User Must Change Password at Next Logon</em>" checkbox that is
available in the Active Directory GUI - you must set the <code>pwdlastset</code>
attribute to one of the below values:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td><strong>Toggled on</strong>. The user will be required to change their password.</td>
</tr>
<tr>
<td><code>-1</code></td>
<td><strong>Toggled off</strong>. The user will not be required to change their password.</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Important</strong>:</p>
<ul>
<li>The <code>pwdlastset</code> attribute can only be modified by domain administrators.</li>
<li>If toggled on, the Active Directory user <strong>will not</strong> pass LDAP authentication
  until they visit a domain joined computer and update their password.</li>
</ul>
</blockquote>
<pre><code class="language-php">$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

// The user must change their password on next login.
$user-&gt;update(['pwdlastset' =&gt; 0]);
</code></pre>
<h2 id="checking-user-enablement-disablement">Checking User Enablement / Disablement</h2>
<p>To determine if a user is enabled or disabled, you may use the <code>isEnabled()</code>
or <code>isDisabled()</code> methods on an existing <code>User</code> model instance:</p>
<pre><code class="language-php">$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

if ($user-&gt;isEnabled()) {
    // The user is enabled...
}

if ($user-&gt;isDisabled()) {
    // The user is disabled...
}
</code></pre>
<p>To access the user's User Account Control to determine other
flags they may have set, call the <code>accountControl()</code> method:</p>
<pre><code class="language-php">use LdapRecord\Models\Attributes\AccountControl;

$user = User::find('...');

if ($user-&gt;accountControl()-&gt;has(AccountControl::LOCKOUT)) {
    // The user account is locked...
}
</code></pre>
<p>To learn more about User Account Control, read on below.</p>
<h2 id="user-account-control">User Account Control</h2>
<p>A users <code>userAccountControl</code> attribute stores an integer value.</p>
<p>This integer value contains the sums of various integer flags. These flags control the
accessibility and behaviour of an Active Directory user account, such as account
disablement, password expiry, the ability to change passwords, and more.</p>
<p>For example, setting a users <code>userAccountControl</code> to <code>512</code> would mean that
the user account is a default account type that represents a typical user.
Setting it to <code>2</code>, would mean the account has been disabled.</p>
<p>Combining both to <code>514</code> (<code>512 + 2 = 514</code>) would mean the users
account is a typical user account, that is also disabled.</p>
<h3 id="usage">Usage</h3>
<p>You can manipulate a users <code>userAccountControl</code> manually by simply setting the
<code>userAccountControl</code> property on an existing user using the raw integer value,
or you can use the account control builder <code>LdapRecord\Models\Attributes\AccountControl</code>:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;
use LdapRecord\Models\Attributes\AccountControl;

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

// Setting the UAC value manually:
$user-&gt;userAccountControl = 512; // Normal, enabled account.

// Or, using the UAC builder:
$user-&gt;userAccountControl = (new AccountControl)-&gt;accountIsNormal();

$user-&gt;save();
</code></pre>
<p>Using the <code>AccountControl</code> builder, methods called will automatically sum the integer value.</p>
<p>For example, let's set an account control for a user with the following controls:</p>
<ul>
<li>The user account is normal</li>
<li>The user account password does not expire</li>
<li>The user account password cannot be changed</li>
</ul>
<pre><code class="language-php">$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

$uac = new AccountControl();

$uac-&gt;accountIsNormal();
$uac-&gt;passwordDoesNotExpire();
$uac-&gt;passwordCannotBeChanged();

$user-&gt;userAccountControl = $uac;

$user-&gt;save();
</code></pre>
<p>The <code>AccountControl</code> builder also allows you to determine which flags are set.</p>
<p>This can be done with the <code>has</code> and <code>doesntHave</code> methods.</p>
<p>Create an <code>AccountControl</code> with the users <code>userAccountControl</code> value in the constructor:</p>
<pre><code class="language-php">$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

$uac = new AccountControl(
    $user-&gt;getFirstAttribute('userAccountControl')
);

if ($uac-&gt;has(AccountControl::LOCKOUT)) {
    // This account is locked out.
}

if ($uac-&gt;doesntHave(AccountControl::LOCKOUT)) {
    // The account is not locked out.
}
</code></pre>
<h3 id="available-constants">Available Constants</h3>
<p>The Account Control builder has constants for every possible value:</p>
<table>
<thead>
<tr>
<th>Constant</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>AccountControl::SCRIPT</code></td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>AccountControl::ACCOUNTDISABLE</code></td>
<td><code>2</code></td>
</tr>
<tr>
<td><code>AccountControl::HOMEDIR_REQUIRED</code></td>
<td><code>8</code></td>
</tr>
<tr>
<td><code>AccountControl::LOCKOUT</code></td>
<td><code>16</code></td>
</tr>
<tr>
<td><code>AccountControl::PASSWD_NOTREQD</code></td>
<td><code>32</code></td>
</tr>
<tr>
<td><code>AccountControl::PASSWD_CANT_CHANGE</code></td>
<td><code>64</code></td>
</tr>
<tr>
<td><code>AccountControl::ENCRYPTED_TEXT_PWD_ALLOWED</code></td>
<td><code>128</code></td>
</tr>
<tr>
<td><code>AccountControl::TEMP_DUPLICATE_ACCOUNT</code></td>
<td><code>256</code></td>
</tr>
<tr>
<td><code>AccountControl::NORMAL_ACCOUNT</code></td>
<td><code>512</code></td>
</tr>
<tr>
<td><code>AccountControl::INTERDOMAIN_TRUST_ACCOUNT</code></td>
<td><code>2048</code></td>
</tr>
<tr>
<td><code>AccountControl::WORKSTATION_TRUST_ACCOUNT</code></td>
<td><code>4096</code></td>
</tr>
<tr>
<td><code>AccountControl::SERVER_TRUST_ACCOUNT</code></td>
<td><code>8192</code></td>
</tr>
<tr>
<td><code>AccountControl::DONT_EXPIRE_PASSWORD</code></td>
<td><code>65536</code></td>
</tr>
<tr>
<td><code>AccountControl::MNS_LOGON_ACCOUNT</code></td>
<td><code>131072</code></td>
</tr>
<tr>
<td><code>AccountControl::SMARTCARD_REQUIRED</code></td>
<td><code>262144</code></td>
</tr>
<tr>
<td><code>AccountControl::TRUSTED_FOR_DELEGATION</code></td>
<td><code>524288</code></td>
</tr>
<tr>
<td><code>AccountControl::NOT_DELEGATED</code></td>
<td><code>1048576</code></td>
</tr>
<tr>
<td><code>AccountControl::USE_DES_KEY_ONLY</code></td>
<td><code>2097152</code></td>
</tr>
<tr>
<td><code>AccountControl::DONT_REQ_PREAUTH</code></td>
<td><code>4194304</code></td>
</tr>
<tr>
<td><code>AccountControl::PASSWORD_EXPIRED</code></td>
<td><code>8388608</code></td>
</tr>
<tr>
<td><code>AccountControl::TRUSTED_TO_AUTH_FOR_DELEGATION</code></td>
<td><code>16777216</code></td>
</tr>
<tr>
<td><code>AccountControl::PARTIAL_SECRETS_ACCOUNT</code></td>
<td><code>67108864</code></td>
</tr>
</tbody>
</table>
<h3 id="available-methods">Available Methods</h3>
<p>The Account Control builder has methods to apply every possible value:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Constant Applied</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>AccountControl::runLoginScript()</code></td>
<td><code>AccountControl::SCRIPT</code></td>
</tr>
<tr>
<td><code>AccountControl::accountIsDisabled()</code></td>
<td><code>AccountControl::ACCOUNTDISABLE</code></td>
</tr>
<tr>
<td><code>AccountControl::homeFolderIsRequired()</code></td>
<td><code>AccountControl::HOMEDIR_REQUIRED</code></td>
</tr>
<tr>
<td><code>AccountControl::accountIsLocked()</code></td>
<td><code>AccountControl::LOCKOUT</code></td>
</tr>
<tr>
<td><code>AccountControl::passwordIsNotRequired()</code></td>
<td><code>AccountControl::PASSWD_NOTREQD</code></td>
</tr>
<tr>
<td><code>AccountControl::passwordCannotBeChanged()</code></td>
<td><code>AccountControl::PASSWD_CANT_CHANGE</code></td>
</tr>
<tr>
<td><code>AccountControl::allowEncryptedTextPassword()</code></td>
<td><code>AccountControl::ENCRYPTED_TEXT_PWD_ALLOWED</code></td>
</tr>
<tr>
<td><code>AccountControl::accountIsTemporary()</code></td>
<td><code>AccountControl::TEMP_DUPLICATE_ACCOUNT</code></td>
</tr>
<tr>
<td><code>AccountControl::accountIsNormal()</code></td>
<td><code>AccountControl::NORMAL_ACCOUNT</code></td>
</tr>
<tr>
<td><code>AccountControl::accountIsForInterdomain()</code></td>
<td><code>AccountControl::INTERDOMAIN_TRUST_ACCOUNT</code></td>
</tr>
<tr>
<td><code>AccountControl::accountIsForWorkstation()</code></td>
<td><code>AccountControl::WORKSTATION_TRUST_ACCOUNT</code></td>
</tr>
<tr>
<td><code>AccountControl::accountIsForServer()</code></td>
<td><code>AccountControl::SERVER_TRUST_ACCOUNT</code></td>
</tr>
<tr>
<td><code>AccountControl::passwordDoesNotExpire()</code></td>
<td><code>AccountControl::DONT_EXPIRE_PASSWORD</code></td>
</tr>
<tr>
<td><code>AccountControl::accountIsMnsLogon()</code></td>
<td><code>AccountControl::MNS_LOGON_ACCOUNT</code></td>
</tr>
<tr>
<td><code>AccountControl::accountRequiresSmartCard()</code></td>
<td><code>AccountControl::SMARTCARD_REQUIRED</code></td>
</tr>
<tr>
<td><code>AccountControl::trustForDelegation()</code></td>
<td><code>AccountControl::TRUSTED_FOR_DELEGATION</code></td>
</tr>
<tr>
<td><code>AccountControl::doNotTrustForDelegation()</code></td>
<td><code>AccountControl::NOT_DELEGATED</code></td>
</tr>
<tr>
<td><code>AccountControl::useDesKeyOnly()</code></td>
<td><code>AccountControl::USE_DES_KEY_ONLY</code></td>
</tr>
<tr>
<td><code>AccountControl::accountDoesNotRequirePreAuth()</code></td>
<td><code>AccountControl::DONT_REQ_PREAUTH</code></td>
</tr>
<tr>
<td><code>AccountControl::passwordIsExpired()</code></td>
<td><code>AccountControl::PASSWORD_EXPIRED</code></td>
</tr>
<tr>
<td><code>AccountControl::trustToAuthForDelegation()</code></td>
<td><code>AccountControl::TRUSTED_TO_AUTH_FOR_DELEGATION</code></td>
</tr>
<tr>
<td><code>AccountControl::accountIsReadOnly()</code></td>
<td><code>AccountControl::PARTIAL_SECRETS_ACCOUNT</code></td>
</tr>
</tbody>
</table>
<p>There are also some utility methods that you may find useful:</p>
<h4 id="add"><code>add</code></h4>
<p>Add a value to the account control:</p>
<pre><code class="language-php">$uac = new AccountControl();

$uac-&gt;add(512);
</code></pre>
<h4 id="remove"><code>remove</code></h4>
<p>Remove a value from the account control:</p>
<pre><code class="language-php">$uac = new AccountControl();

$uac-&gt;remove(2);
</code></pre>
<h4 id="apply"><code>apply</code></h4>
<p>Apply a value that is a combination of multiple flags:</p>
<pre><code class="language-php">$uac = new AccountControl();

$uac-&gt;apply(514);
</code></pre>
<h4 id="has"><code>has</code></h4>
<p>Determine if the account control contains a specific flag:</p>
<pre><code class="language-php">$uac = new AccountControl(512);

// true
$uac-&gt;has(AccountControl::NORMAL_ACCOUNT);

// false
$uac-&gt;has(AccountControl::ACCOUNTDISABLE);
</code></pre>
<h4 id="doesnthave"><code>doesntHave</code></h4>
<p>Determine if the account control does not contain a specific flag:</p>
<pre><code class="language-php">$uac = new AccountControl(512);

// false
$uac-&gt;doesntHave(AccountControl::NORMAL_ACCOUNT);

// true
$uac-&gt;doesntHave(AccountControl::ACCOUNTDISABLE);
</code></pre>
<h4 id="filter"><code>filter</code></h4>
<p>Generate an LDAP filter string for the account control value:</p>
<pre><code class="language-php">$uac = new AccountControl(512);

// &quot;(UserAccountControl:1.2.840.113556.1.4.803:=512)&quot;
$uac-&gt;filter();
</code></pre>
<h4 id="getallflags"><code>getAllFlags</code></h4>
<p>Get an array of all of the <em>available</em> account control flags:</p>
<pre><code class="language-php">$uac = new AccountControl();

// [
//  'SCRIPT' =&gt; 1,
//  'ACCOUNTDISABLE' =&gt; 2,
//  'HOMEDIR_REQUIRED' =&gt; 8,
//  ...
// ]
$uac-&gt;getAllFlags();
</code></pre>
<h4 id="getappliedflags"><code>getAppliedFlags</code></h4>
<p>Get an array of all of the <em>applied</em> account control flags:</p>
<pre><code class="language-php">$uac = new AccountControl(512);

// [
//  'NORMAL_ACCOUNT' =&gt; 512,
// ]
$uac-&gt;getAppliedFlags();
</code></pre>
<h2 id="user-account-expiry">User Account Expiry</h2>
<p>A users <code>accountExpires</code> attribute stores a date (in <a href="/docs/core/v2/model-mutators/#windows-integer-type">Windows Integer Time</a>) indicating when the account will no longer valid.</p>
<p>This attribute is already added as a <a href="/docs/core/v2/model-mutators#date-mutators"><code>windows-int</code> date cast</a> inside of the included <code>ActiveDirectory\User</code> model.</p>
<p>To determine a user's account expiry, you will have to handle various cases depending on its value returned from the Active Directory server:</p>
<pre><code class="language-php">use LdapRecord\Models\Attributes\Timestamp;

$user = User::find('cn=jdoe,dc=local,dc=com');

if ($user-&gt;accountExpires === false) {
    // The user account has no account expiry.
} else if (in_array($user-&gt;accountExpires, [0, Timestamp::WINDOWS_INT_MAX], $strict = true) {
    // The user account never expires.
} else if ($user-&gt;accountExpires-&gt;isPast())) {
    // The user account is expired.
} else {
    // The user account is not expired.
}
</code></pre>
<h2 id="group-management">Group Management</h2>
<p>If you are utilizing the included <code>LdapRecord\Models\ActiveDirectory\User</code> model, the
<code>groups()</code> relationship exists for easily removing / adding groups to users.</p>
<h3 id="getting-groups">Getting Groups</h3>
<p>To get the groups that a user is a member of, call the <code>groups()</code> relationship method.
This will return the immediate groups that the user is a member of:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

// Get immediate groups the user is apart of:
$groups = $user-&gt;groups()-&gt;get();

foreach ($groups as $group) {
    echo $group-&gt;getName();
}
</code></pre>
<p>You may also want to retrieve groups that are <em>members</em> of groups that the user is apart of.
This is called a <a href="/docs/core/v2/model-relationships/#recursive-queries">recursive relationship query</a>.</p>
<p>To retrieve groups of groups, call the <code>recursive()</code> method following the <code>groups()</code> relation call:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

// Get nested groups the user is apart of:
$groups = $user-&gt;groups()-&gt;recursive()-&gt;get();

foreach ($groups as $group) {
    echo $group-&gt;getName();
}
</code></pre>
<h3 id="filtering-groups">Filtering Groups</h3>
<p>Relations in LdapRecord act as query builders, so you can chain query methods on the <code>groups()</code> relation itself:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

// Get all groups the user is apart of that contain 'Accounting':
$groups = $user-&gt;groups()-&gt;whereContains('cn', 'Accounting')-&gt;get();

// Get all groups the user is apart of that are members of the 'Office' group:
$groups = $user-&gt;groups()-&gt;whereMemberOf('cn=Office,ou=Groups,dc=local,dc=com')-&gt;get();
</code></pre>
<h3 id="checking-existence">Checking Existence</h3>
<p>To check if a user is a member of <em>any</em> group, call the <code>exists()</code> method on the <code>groups()</code> relationship:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

if ($user-&gt;groups()-&gt;exists()) {
    // The user is a member of at least one group.
}
</code></pre>
<p>To check if a user is an immediate member of a specific group, pass a model into the <code>exists()</code> method:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;
use LdapRecord\Models\ActiveDirectory\Group;

$group = Group::find('cn=Accounting,dc=local,dc=com');

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

if ($user-&gt;groups()-&gt;exists($group)) {
    // The user is an immediate member of the 'Accounting' group.
}
</code></pre>
<p>To check if a user is a member of a group that could be nested in a sub-group, call
the <code>recursive()</code> method before calling <code>exists()</code>:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;
use LdapRecord\Models\ActiveDirectory\Group;

$group = Group::find('cn=Accounting,dc=local,dc=com');

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

if ($user-&gt;groups()-&gt;recursive()-&gt;exists($group)) {
    // The user is a member of the 'Accounting' group.
}
</code></pre>
<h3 id="adding-groups">Adding Groups</h3>
<p>To add groups to a user, call the <code>groups()</code> relationship method, then <code>attach()</code>:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;
use LdapRecord\Models\ActiveDirectory\Group;

$group = Group::findOrFail('cn=Accounting,ou=Groups,dc=local,dc=com');

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

if ($user-&gt;groups()-&gt;attach($group)) {
    // Successfully added the group to the user.
}
</code></pre>
<h3 id="removing-groups">Removing Groups</h3>
<p>To remove groups on user, call the <code>groups()</code> relationship method, then <code>detach()</code>:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;
use LdapRecord\Models\ActiveDirectory\Group;

$group = Group::findOrFail('cn=Accounting,ou=Groups,dc=local,dc=com');

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

if ($user-&gt;groups()-&gt;detach($group)) {
    // Successfully removed the group from the user.
}
</code></pre>
<blockquote>
<p>The <code>detach()</code> method will return <code>true</code> if the user is already not apart
of the given group. This does not indicate that the user was previously a member.</p>
</blockquote>
<p>You may want to locate groups on the user prior removal to ensure they are a member:</p>
<pre><code class="language-php">&lt;?php

use LdapRecord\Models\ActiveDirectory\User;

$user = User::find('cn=John Doe,ou=Users,dc=local,dc=com');

$group = $user-&gt;groups()-&gt;first();

if ($group &amp;&amp; $user-&gt;groups()-&gt;detach($group)) {
    // Successfully removed the first group from the user.
}
</code></pre>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": [], "search": "../../../../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>